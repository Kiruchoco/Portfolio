{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Jekyll v3.8.6">
  <!-- 위 3개의 메타 태그는 *반드시* head 태그의 처음에 와야합니다; 어떤 다른 콘텐츠들은 반드시 이 태그들 *다음에* 와야 합니다 -->

  <title>게임 추천 사이트</title>

  <!-- 부트스트랩 -->
  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

  <!--AOS스크롤 애니메이션-->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <!--차트js-->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>
</head>

<body style="background-color: rgb(49, 49, 49);">
  <!-- jQuery (부트스트랩의 자바스크립트 플러그인을 위해 필요합니다) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

  <!-- 모든 컴파일된 플러그인을 포함합니다 (아래), 원하지 않는다면 필요한 각각의 파일을 포함하세요 -->
  <script src="{% static 'js/bootstrap.min.js' %}"></script>
  <script src="{% static 'js/test.js' %}"></script>

  <header>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top" style="background-color:rgb(49, 49, 49);">
      <a class="navbar-brand" href="{% url 'index' %}">게임 추천 서비스</a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
        aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="btn btn-secondary nav-link disabled m-2" href="#" tabindex="-1" aria-disabled="true">나의평가</a>
          </li>
          <li class="nav-item active">
            <a class="btn btn-secondary nav-link m-2" href="{% url 'analysis:evaluation' %}"
              style="color: white;">평가하기</a>
          </li>
          <li class="nav-item active">
            <a class="btn btn-secondary nav-link m-2" href="{% url 'analysis:tendency' %}"
              style="color: white;">성향분석</a>
          </li>
          <li class="nav-item active">
            <a class="btn btn-secondary nav-link m-2" href="{% url 'analysis:user_recommend' %}"
              style="color: white;">게임추천</a>
          </li>
        </ul>
      </div>
      {% if user.is_authenticated %}
      <a class="" style="color:white"> {{ user.username }}님 환영합니다. </a><br>
      {% else %}
      <a class="" style="color:white"> 현재 비로그인 상태입니다. </a><br>
      {% endif %}
    </nav>
  </header>

  <div class="position-relative overflow-hidden text-left bg-light"
    style="background-image:url(/static/img/PUBG.jpg); background-repeat: no-repeat; background-size: cover; width: 100%;">
    <div class=" p-lg-5 mx-auto my-5">
      <a name="header"></a>
      <h1 class="display-4 font-weight-normal" style="color: whitesmoke;">게임 추천 서비스</h1>
      <p class="lead font-weight-normal" style="color:whitesmoke;">어떤 게임을 할지 고민인 사람들을 위한 서비스. <br> 당신이 가장 재미있게 할 수 있는
        게임을 찾아보세요.</p>
      <a class="btn btn-outline-secondary btn-lg" href="{% url 'index' %}"
        style="background-color: rgb(119, 88, 246); color: whitesmoke;">홈으로</a>
    </div>

    <div class="product-device shadow-sm d-none d-md-block"></div>
    <div class="product-device product-device-2 shadow-sm d-none d-md-block"></div>
  </div>

  <!-- Header Section-->
  <section class="py-5" style="background-color: rgb(49, 49, 49);">
    <div class="text-center">
      <h1 class="section-heading" style="color:white;" data-aos="fade-up">Your Ratings</h2>
        <h4 class="section-subheading text-muted" style="color:white;" data-aos="fade-up">현재까지 총 {{ total }}개의 게임을
          평가하셨습니다</h3>
    </div>

    <br>
    <br>

    <div class="container-fluid">
      <div class="row d-flex align-items-md-stretch col-lg-11" style="float: none; margin : 0 auto">

        <!-- first space, recommand game-->
        <div class="col-lg-6 col-md-12" style="float: none; margin : 0 auto" data-aos="fade-up">
          <div class="card shadow-0">
            <div class="card">
              <div class="card-header border-bottom">
                <h2 class="h5 fw-normal mb-0"><a class="card-collapse-link text-dark d-block" data-bs-toggle="collapse"
                    href="#updates-box" aria-expanded="true">{{ user.username }}님의 게임평가 목록
                  </a></h2>
              </div>

              <div class="card-body p-0">
                <div class="collapse show" id="updates-box" role="tabpanel">
                  <ul class="list-unstyled">
                    {% for game in mygames %}
                    {% if game.2 == 1 %}
                    <!-- Item. white bag ground-->
                    <div class="p-3 d-flex justify-content-between" data-aos="fade-up">
                      <div class="d-flex"><i class="fas fa-rss text-gray-600"></i>
                        <div class="ms-3" >
                          <a href="https://store.steampowered.com/app/{{ game.0 }}">
                            <img src="https://cdn.akamai.steamstatic.com/steam/apps/{{ game.0 }}/header.jpg"
                              alt="{{ game.0 }}" width="200" height="100">
                          </a>
                          <!--<p class="mb-0 text-xs text-gray-500"> 추가 정보</p>-->
                        </div>
                      </div>
                      <div class="text-end ms-2">
                        <strong class="d-block lh-1 h2 mb-0 text-gray-500 fw-bold text-right" data-aos="fade-left">{{ game.1 }}</strong>
                        <small class="d-block lh-1 text-gray-500 text-right" data-aos="fade-left">{{ game.3 }}</small>                       
                      </div>
                    </div>
                    {% else %}
                    <!-- Item. ligth bag ground-->
                    <div class="p-3 d-flex justify-content-between bg-light" data-aos="fade-up">
                      <div class="d-flex"><i class="fas fa-rss text-gray-600"></i>
                        <div class="ms-3">
                          <a href="https://store.steampowered.com/app/{{ game.0 }}">
                            <img src="https://cdn.akamai.steamstatic.com/steam/apps/{{ game.0 }}/header.jpg"
                              alt="{{ game.0 }}" width="200" height="100">
                          </a>
                          <!--<p class="mb-0 text-xs text-gray-500"> 추가 정보</p>-->
                        </div>
                      </div>
                      <div class="text-end ms-2">
                        <strong class="d-block lh-1 h2 mb-0 text-gray-500 fw-bold text-right" data-aos="fade-left">{{ game.1 }}</strong>
                        <small class="d-block lh-1 text-gray-500 text-right" data-aos="fade-left">{{ game.3 }}</small>
                      </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section>

</body>

<script>
  AOS.init();
</script>
<div style="position:fixed; bottom:5px; right:5px;">
  <a class="btn btn-outline-secondary btn" href="#header" style="background-color: rgb(186, 182, 202); color: white;">TOP</a>
</div>
</body>

<footer class="my-5 pt-5 text-muted text-center text-small">
  <p class="mb-1">&copy; 2022 Capstone Design Team 1-19</p>
  <ul class="list-inline">
    <li class="list-inline-item">홍주성</li>
    <li class="list-inline-item">임승욱</li>
  </ul>
</footer>

</html>